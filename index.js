var _0x498631=_0x3ff2;(function(_0x206753,_0x281d7e){var _0x2cacc1=_0x3ff2,_0x1d8e33=_0x206753();while(!![]){try{var _0x4f043b=-parseInt(_0x2cacc1(0x119))/0x1+parseInt(_0x2cacc1(0x12e))/0x2*(-parseInt(_0x2cacc1(0x12c))/0x3)+parseInt(_0x2cacc1(0x130))/0x4*(parseInt(_0x2cacc1(0x167))/0x5)+parseInt(_0x2cacc1(0x148))/0x6+-parseInt(_0x2cacc1(0x11d))/0x7+parseInt(_0x2cacc1(0x15d))/0x8+parseInt(_0x2cacc1(0x14a))/0x9;if(_0x4f043b===_0x281d7e)break;else _0x1d8e33['push'](_0x1d8e33['shift']());}catch(_0x3a3632){_0x1d8e33['push'](_0x1d8e33['shift']());}}}(_0x45bf,0x21cdd));const axios=require('axios'),rax=require(_0x498631(0x146));var inquirer=require(_0x498631(0x14e));const config=require('./config.json');let token=config[_0x498631(0x113)];function _0x45bf(){var _0x39a8b6=['error\x20adding\x20community\x20','error\x20getting\x20guild','mainhead','then','Guild\x20clonned\x20successfully','guilds/','verification_level','default_message_notifications','defaults','features','guild','sort','/guilds/','Retry\x20attempt\x20#','catch','afk_timeout','color','log','system_channel_id','retry-axios','binary','1288008aNjZYB','input','2260953CZjbGx','hoist','successfully\x20scraped\x20channels','data','inquirer','public_updates_channel_id','/users/@me','guildverification','PATCH','currentRetryAttempt','nsfw','toString','guildexplicit','user_limit','copiedguildid','successfully\x20scraped\x20old\x20channels','region','https://discord.com/api/v8','guildicon','823928KxaBNv','guildpublic','/channels','name','application/json','secondhead','Copied\x20the\x20channels','valipuha\x20too\x20op','from','guildregion','395WVyQmG','guilds','permission_overwrites','permissions','base64','type','error\x20getting\x20channels','getConfig','attach','parent_id','/roles','Copied\x20the\x20roles','token','newguildid','position','afkid','baseURL','afk_channel_id','236704vHwjsQ','bitrate','.png?size=4096','rate_limit_per_user','1315363WSeHXe','Bot\x20','mentionable','guildrules','arraybuffer','prompt','icon','pos','guildname','afktime','rules_channel_id','topic','https://cdn.discordapp.com/icons/','push','GET','3aNmLeq','Error\x20verifying\x20token\x20info','17292GEMqNv','guildnotifications','144akpouy','data:image/png;base64,','map'];_0x45bf=function(){return _0x39a8b6;};return _0x45bf();}var guildroles=[],guildchannels=[],newschannels=[],webinterval=0x7d0,messages=[],channelids=[],webhooks=[],oldchannelids=[],webid=[];axios[_0x498631(0x13b)][_0x498631(0x117)]=_0x498631(0x15b);async function checktoken(){await new Promise(async function(_0x44c34c,_0x2120ac){var _0x3dd40e=_0x3ff2;await axios(_0x3dd40e(0x150),{'method':_0x3dd40e(0x12b),'headers':{'Authorization':_0x3dd40e(0x11e)+token,'Content-Type':_0x3dd40e(0x161)},'raxConfig':{'retry':0x5,'onRetryAttempt':_0x56820f=>{var _0x8c6454=_0x3dd40e;const _0x3be29a=rax[_0x8c6454(0x16e)](_0x56820f);console[_0x8c6454(0x144)](_0x8c6454(0x140)+_0x3be29a['currentRetryAttempt']);}}})[_0x3dd40e(0x136)](_0x4838a9=>{var _0x594c7e=_0x3dd40e;global[_0x594c7e(0x135)]={'Authorization':_0x594c7e(0x11e)+token,'Content-Type':'application/json'},global[_0x594c7e(0x162)]={'Authorization':_0x594c7e(0x11e)+token},_0x44c34c();})[_0x3dd40e(0x141)](async function(_0x476ff7){var _0x2f71b5=_0x3dd40e;await axios(_0x2f71b5(0x150),{'method':_0x2f71b5(0x12b),'headers':{'Authorization':token,'Content-Type':_0x2f71b5(0x161)},'raxConfig':{'retry':0x5,'onRetryAttempt':_0x5ea600=>{var _0x4860c4=_0x2f71b5;const _0x4af9fc=rax[_0x4860c4(0x16e)](_0x5ea600);console[_0x4860c4(0x144)](_0x4860c4(0x140)+_0x4af9fc[_0x4860c4(0x153)]);}}})[_0x2f71b5(0x136)](_0x31515f=>{var _0x592365=_0x2f71b5;global[_0x592365(0x135)]={'Authorization':token,'Content-Type':_0x592365(0x161)},global[_0x592365(0x162)]={'Authorization':token},_0x44c34c();})[_0x2f71b5(0x141)](_0x211431=>{var _0x464e6b=_0x2f71b5;console[_0x464e6b(0x144)](_0x464e6b(0x12d)),_0x44c34c();});});});}async function getguild(){var _0x3a0193=_0x498631;await axios(_0x3a0193(0x13f)+guildid,{'method':_0x3a0193(0x12b),'headers':mainhead})[_0x3a0193(0x136)](async function(_0x5c0c41){var _0x14fe2c=_0x3a0193;console[_0x14fe2c(0x144)]('Copyed\x20info\x20about\x20the\x20guild'),_0x5c0c41[_0x14fe2c(0x14d)]['icon']!==null?await axios['get'](_0x14fe2c(0x129)+_0x5c0c41[_0x14fe2c(0x14d)]['id']+'/'+_0x5c0c41['data'][_0x14fe2c(0x123)]+_0x14fe2c(0x11b),{'responseType':_0x14fe2c(0x121)})['then'](_0x4549a4=>{var _0x4c6b84=_0x14fe2c;Buffer[_0x4c6b84(0x165)](_0x4549a4[_0x4c6b84(0x14d)],_0x4c6b84(0x147))[_0x4c6b84(0x155)](_0x4c6b84(0x16b)),global[_0x4c6b84(0x15c)]=_0x4c6b84(0x131)+Buffer[_0x4c6b84(0x165)](_0x4549a4[_0x4c6b84(0x14d)],_0x4c6b84(0x147))[_0x4c6b84(0x155)](_0x4c6b84(0x16b));}):global[_0x14fe2c(0x15c)]=null,global[_0x14fe2c(0x158)]=_0x5c0c41[_0x14fe2c(0x14d)]['id'],global['guildfeatures']=_0x5c0c41['data'][_0x14fe2c(0x13c)],global[_0x14fe2c(0x125)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x160)],global[_0x14fe2c(0x156)]=_0x5c0c41[_0x14fe2c(0x14d)]['explicit_content_filter'],global[_0x14fe2c(0x12f)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x13a)],global[_0x14fe2c(0x151)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x139)],global[_0x14fe2c(0x116)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x118)],global[_0x14fe2c(0x126)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x142)],global['systemid']=_0x5c0c41['data'][_0x14fe2c(0x145)],global[_0x14fe2c(0x166)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x15a)],global[_0x14fe2c(0x120)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x127)],global[_0x14fe2c(0x15e)]=_0x5c0c41[_0x14fe2c(0x14d)][_0x14fe2c(0x14f)];})[_0x3a0193(0x141)](_0x4db501=>{var _0x29df05=_0x3a0193;console[_0x29df05(0x144)](_0x29df05(0x134)+_0x4db501);});}function _0x3ff2(_0x5f187e,_0x26c6ce){var _0x45bf52=_0x45bf();return _0x3ff2=function(_0x3ff2c2,_0x2dc5e7){_0x3ff2c2=_0x3ff2c2-0x112;var _0x61ae0=_0x45bf52[_0x3ff2c2];return _0x61ae0;},_0x3ff2(_0x5f187e,_0x26c6ce);}async function getroles(){var _0x15b0d3=_0x498631;await axios(_0x15b0d3(0x13f)+guildid+_0x15b0d3(0x171),{'method':'GET','headers':mainhead})['then'](async function(_0x48b2c2){var _0x2ca1dd=_0x15b0d3;console[_0x2ca1dd(0x144)](_0x2ca1dd(0x112)),_0x48b2c2['data'][_0x2ca1dd(0x132)](async function(_0x50ad03){var _0x343e3c=_0x2ca1dd;guildroles['push']({'name':_0x50ad03[_0x343e3c(0x160)],'permissions':_0x50ad03[_0x343e3c(0x16a)],'id':_0x50ad03['id'],'position':_0x50ad03[_0x343e3c(0x115)],'color':_0x50ad03[_0x343e3c(0x143)],'hoist':_0x50ad03[_0x343e3c(0x14b)],'mentionable':_0x50ad03[_0x343e3c(0x11f)]});}),guildroles[_0x2ca1dd(0x13e)]((_0x53888a,_0x471e38)=>_0x53888a[_0x2ca1dd(0x115)]>_0x471e38[_0x2ca1dd(0x115)]?0x1:-0x1);})['catch'](_0xd0d4eb=>{var _0x399e2d=_0x15b0d3;console[_0x399e2d(0x144)]('error\x20getting\x20roles'+_0xd0d4eb);});}async function getchannels(){var _0x106042=_0x498631;await axios('/guilds/'+guildid+_0x106042(0x15f),{'method':_0x106042(0x12b),'headers':mainhead})[_0x106042(0x136)](async function(_0x5df6bf){var _0x1bd6ac=_0x106042;console[_0x1bd6ac(0x144)](_0x1bd6ac(0x163)),_0x5df6bf[_0x1bd6ac(0x14d)]['map'](async function(_0x3209ff){var _0x55c33e=_0x1bd6ac;if(_0x3209ff['type']==0x4)guildchannels['push']({'name':_0x3209ff[_0x55c33e(0x160)],'type':_0x3209ff[_0x55c33e(0x16c)],'id':_0x3209ff['id'],'parent_id':_0x3209ff['parent_id'],'permission_overwrites':_0x3209ff[_0x55c33e(0x169)],'nsfw':_0x3209ff[_0x55c33e(0x154)],'pos':_0x3209ff[_0x55c33e(0x115)]});else{if(_0x3209ff['type']==0x0)guildchannels[_0x55c33e(0x12a)]({'name':_0x3209ff[_0x55c33e(0x160)],'type':_0x3209ff[_0x55c33e(0x16c)],'id':_0x3209ff['id'],'parent_id':_0x3209ff[_0x55c33e(0x170)],'permission_overwrites':_0x3209ff[_0x55c33e(0x169)],'topic':_0x3209ff[_0x55c33e(0x128)],'nsfw':_0x3209ff[_0x55c33e(0x154)],'rate_limit_per_user':_0x3209ff[_0x55c33e(0x11c)],'po':_0x3209ff[_0x55c33e(0x115)]});else{if(_0x3209ff[_0x55c33e(0x16c)]==0x2)guildchannels['push']({'name':_0x3209ff[_0x55c33e(0x160)],'type':_0x3209ff[_0x55c33e(0x16c)],'id':_0x3209ff['id'],'parent_id':_0x3209ff['parent_id'],'permission_overwrites':_0x3209ff['permission_overwrites'],'topic':_0x3209ff['topic'],'nsfw':_0x3209ff['nsfw'],'bitrate':_0x3209ff[_0x55c33e(0x11a)],'user_limit':_0x3209ff[_0x55c33e(0x157)],'po':_0x3209ff[_0x55c33e(0x115)]});else _0x3209ff[_0x55c33e(0x16c)]==0x5&&(guildchannels['push']({'name':_0x3209ff[_0x55c33e(0x160)],'type':0x0,'id':_0x3209ff['id'],'parent_id':_0x3209ff[_0x55c33e(0x170)],'permission_overwrites':_0x3209ff[_0x55c33e(0x169)],'topic':_0x3209ff[_0x55c33e(0x128)],'nsfw':_0x3209ff['nsfw'],'po':_0x3209ff[_0x55c33e(0x115)]}),newschannels[_0x55c33e(0x12a)]({'name':_0x3209ff['name'],'type':_0x3209ff[_0x55c33e(0x16c)],'id':_0x3209ff['id'],'parent_id':_0x3209ff['parent_id'],'po':_0x3209ff['position']}));}}}),guildchannels[_0x1bd6ac(0x13e)]((_0x3c3de8,_0x969474)=>_0x3c3de8[_0x1bd6ac(0x170)]>_0x969474[_0x1bd6ac(0x170)]?0x1:-0x1),guildchannels[_0x1bd6ac(0x13e)]((_0xcec75d,_0x75f166)=>_0xcec75d[_0x1bd6ac(0x124)]<_0x75f166['pos']?0x1:-0x1),guildchannels[_0x1bd6ac(0x13e)]((_0x1e8b90,_0x4b9ed2)=>_0x1e8b90['po']>_0x4b9ed2['po']?0x1:-0x1);})[_0x106042(0x141)](_0x1f0e52=>{var _0x4a9520=_0x106042;console['log'](_0x4a9520(0x16d)+_0x1f0e52);});}async function createguild(){var _0x25a271=_0x498631;let _0x274aa2=rax['attach']();await axios(_0x25a271(0x168),{'method':'POST','headers':secondhead,'raxConfig':{'retry':0x5,'onRetryAttempt':_0x1c7078=>{var _0x22dc89=_0x25a271;const _0xddef=rax[_0x22dc89(0x16e)](_0x1c7078);console[_0x22dc89(0x144)](_0x22dc89(0x140)+_0xddef[_0x22dc89(0x153)]);}},'data':{'name':guildname,'icon':guildicon,'roles':guildroles,'channels':guildchannels,'region':guildregion,'verification_level':guildverification,'default_message_notifications':guildnotifications,'explicit_content_filter':guildexplicit,'afk_channel_id':afkid,'afk_timeout':afktime,'system_channel_id':systemid}})[_0x25a271(0x136)](async function(_0x1aecf4){var _0x2327cf=_0x25a271;console['log'](_0x2327cf(0x137)),global[_0x2327cf(0x114)]=_0x1aecf4['data']['id'];})['catch'](_0x794aa5=>{var _0x13d63d=_0x25a271;console[_0x13d63d(0x144)]('error\x20creating\x20guild\x20'+_0x794aa5);});}async function addcom(){var _0x15b16c=_0x498631;let _0x3cd145=rax[_0x15b16c(0x16f)]();await axios(_0x15b16c(0x138)+guildid,{'method':_0x15b16c(0x152),'headers':secondhead,'raxConfig':{'retry':0x5,'onRetryAttempt':_0x314592=>{var _0x3489a5=_0x15b16c;const _0x10c6ae=rax[_0x3489a5(0x16e)](_0x314592);console[_0x3489a5(0x144)]('Retry\x20attempt\x20#'+_0x10c6ae['currentRetryAttempt']);}},'data':{'features':guildfeatures,'verification_level':guildverification,'default_message_notifications':guildnotifications,'explicit_content_filter':guildexplicit,'rules_channel_id':guildrules}})[_0x15b16c(0x136)](async function(_0x554031){var _0x349a68=_0x15b16c;console[_0x349a68(0x144)](_0x554031[_0x349a68(0x14d)]);})['catch'](_0x1db838=>{var _0x162fb5=_0x15b16c;console[_0x162fb5(0x144)](_0x162fb5(0x133)+_0x1db838);});}async function create(){await checktoken(),await getguild(),await getroles(),await getchannels(),await createguild();}async function scrapeoldc(){var _0x52de80=_0x498631;channelids=[],await axios(_0x52de80(0x13f)+copiedguildid+'/channels',{'method':_0x52de80(0x12b),'headers':secondhead})[_0x52de80(0x136)](_0x23431c=>{var _0x1921f8=_0x52de80;console[_0x1921f8(0x144)](_0x1921f8(0x159)),_0x23431c[_0x1921f8(0x14d)][_0x1921f8(0x132)](_0x3e3815=>{var _0x565081=_0x1921f8;(_0x3e3815[_0x565081(0x16c)]==0x0||_0x3e3815[_0x565081(0x16c)]==0x5)&&oldchannelids['push']({'name':_0x3e3815[_0x565081(0x160)],'type':_0x3e3815['type'],'id':_0x3e3815['id'],'parent_id':_0x3e3815[_0x565081(0x170)],'permission_overwrites':_0x3e3815[_0x565081(0x169)],'topic':_0x3e3815[_0x565081(0x128)],'nsfw':_0x3e3815[_0x565081(0x154)],'rate_limit_per_user':_0x3e3815['rate_limit_per_user'],'po':_0x3e3815[_0x565081(0x115)]});}),oldchannelids[_0x1921f8(0x13e)]((_0x922f0e,_0x3b3db2)=>_0x922f0e[_0x1921f8(0x170)]>_0x3b3db2[_0x1921f8(0x170)]?0x1:-0x1),oldchannelids['sort']((_0x3404d3,_0x347426)=>_0x3404d3[_0x1921f8(0x124)]<_0x347426['pos']?0x1:-0x1),oldchannelids['sort']((_0x2479a0,_0x3027f6)=>_0x2479a0['po']>_0x3027f6['po']?0x1:-0x1);});}async function scrapec(){var _0x587cc8=_0x498631;channelids=[],await axios('/guilds/'+newguildid+_0x587cc8(0x15f),{'method':_0x587cc8(0x12b),'headers':secondhead})['then'](_0x589042=>{var _0x4eac03=_0x587cc8;console[_0x4eac03(0x144)](_0x4eac03(0x14c)),_0x589042[_0x4eac03(0x14d)]['map'](_0x26a1c4=>{var _0x3663cd=_0x4eac03;(_0x26a1c4['type']==0x0||_0x26a1c4[_0x3663cd(0x16c)]==0x5)&&channelids[_0x3663cd(0x12a)](_0x26a1c4['id']);});});}async function copy(_0x3cba20,_0x576025){await scrapeoldc(),await scrapec(),await getmsgs(_0x3cba20),await getweb(_0x576025);}async function execute(_0x20e71e,_0xc15681){for(var _0x383f1c=0x0;_0x383f1c<0xa;_0x383f1c++){await copy(_0x20e71e[_0x383f1c]['id'],_0xc15681[_0x383f1c]);}}async function make(){var _0x4dae91=_0x498631;await create()[_0x4dae91(0x141)](_0x616060=>{var _0x55c088=_0x4dae91;console[_0x55c088(0x144)](''),resolve();});}console['log'](_0x498631(0x164)),inquirer[_0x498631(0x122)]({'type':_0x498631(0x149),'name':_0x498631(0x13d),'message':'Guild\x20ID:'})[_0x498631(0x136)](async function(_0x4affb0){global['guildid']=_0x4affb0['guild'],make();});